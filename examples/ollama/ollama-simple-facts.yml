# Ollama Simple Facts Demo
# Shows system facts detection

- name: Show Ollama version from facts
  shell: echo "Ollama Version{{ ":" }} {{ ollama_version }}"

- name: Show Ollama endpoint from facts
  shell: echo "Ollama Endpoint{{ ":" }} {{ ollama_endpoint }}"

- name: List Ollama models if available
  shell: ollama list
  register: models_output
  failed_when: false

- name: Display models output
  shell: echo "{{ models_output.stdout }}"

- name: Show system information
  shell: |
    echo ""
    echo "================================"
    echo "System Information"
    echo "================================"
    echo "OS{{ ":" }} {{ os }}"
    echo "Arch{{ ":" }} {{ arch }}"
    echo "Hostname{{ ":" }} {{ hostname }}"
    echo ""

- name: Ollama API health check
  shell: curl -s http://localhost:11434/api/tags 2>/dev/null || echo "Ollama not running"
  register: api_check

- name: Show API response
  shell: |
    echo "================================"
    echo "Ollama API Response"
    echo "================================"
    echo "{{ api_check.stdout }}"
    echo "================================"
