- name: Set test variable
  set_fact:
    should_run: true
    skip_this: false

- name: Run when condition is true
  shell: echo "Condition is true"
  when: should_run

- name: Skip when condition is false
  shell: echo "This should not run"
  when: skip_this

- name: Test numeric comparison
  set_fact:
    test_value: 10

- name: Run when value is greater than 5
  shell: echo "Value is greater than 5"
  when: test_value > 5

- name: Create conditional file
  file:
    path: /tmp/conditional-test.txt
    state: touch
  when: should_run

- name: Verify conditional file was created
  shell: test -f /tmp/conditional-test.txt

- name: Clean up
  file:
    path: /tmp/conditional-test.txt
    state: absent
