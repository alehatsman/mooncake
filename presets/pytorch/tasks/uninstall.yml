# PyTorch Uninstallation Tasks

- name: Uninstall PyTorch (pip)
  shell: pip3 uninstall -y torch torchvision torchaudio
  when: parameters.install_method == "pip"
  failed_when: false

- name: Uninstall PyTorch (conda)
  shell: conda remove -y pytorch torchvision torchaudio
  when: parameters.install_method == "conda"
  failed_when: false

- name: Verify uninstallation with assert
  assert:
    command:
      cmd: python3 -c "import torch"
      exit_code: 1

- name: Display uninstall complete
  print: "OK PyTorch uninstalled"
