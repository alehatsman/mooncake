# Traefik Uninstallation Tasks

- name: Uninstall Traefik (macOS)
  shell: brew uninstall traefik
  when: brew_available

- name: Remove Traefik binary (Linux)
  file:
    path: /usr/local/bin/traefik
    state: absent
  become: true
  when: linux

- name: Assert Traefik binary is removed
  assert:
    command:
      cmd: command -v traefik
      exit_code: 1

- name: Display uninstall confirmation
  print: "Traefik uninstalled. Configuration preserved at ~/traefik/"
