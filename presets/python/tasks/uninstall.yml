# Python/pyenv Uninstallation

- name: Remove pyenv directory
  file:
    path: "~/.pyenv"
    state: absent

- name: Remove pyenv init file
  file:
    path: "~/.pyenv_init"
    state: absent

- name: Remove pyenv from shell profiles
  shell: |
    for profile in "~/.bashrc" "~/.zshrc" "~/.profile"; do
      if [ -f "$profile" ]; then
        # Remove lines that source .pyenv_init
        sed -i.bak '/.pyenv_init/d' "$profile" 2>/dev/null || \
        sed -i '' '/.pyenv_init/d' "$profile" 2>/dev/null || true
      fi
    done

- name: Print uninstallation complete
  print: |
    pyenv and Python versions have been uninstalled.

    Note: Build dependencies were NOT removed (they may be needed by other software).
    Restart your terminal for changes to take effect.
