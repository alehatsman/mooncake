- name: Check if eleventy is installed
  shell: command -v eleventy
  register: eleventy_check
  failed_when: false

- name: Install eleventy via npm
  shell: npm install -g @11ty/eleventy
  when: eleventy_check.rc != 0

- name: Verify installation with assert
  assert:
    command:
      cmd: command -v eleventy
      exit_code: 0

- name: Display confirmation
  print: "eleventy installed"
