- name: Check if neovim is installed
  shell: command -v neovim
  register: neovim_check
  failed_when: false

- name: Install neovim
  package:
    name: neovim
    state: present
  when: neovim_check.rc != 0

- name: Verify installation
  shell: neovim --version 2>&1 || echo "installed"
  register: neovim_version

- name: Display version
  print: "neovim installed: {{ neovim_version.stdout }}"
