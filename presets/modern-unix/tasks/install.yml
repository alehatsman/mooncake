# Modern Unix Tools Installation

- name: Install {{ item }} via apt
  shell: apt-get install -y {{ item }}
  with_items: parameters.tools
  when: apt_available
  become: true

- name: Install {{ item }} via dnf
  shell: dnf install -y {{ item }}
  with_items: parameters.tools
  when: dnf_available
  become: true

- name: Install {{ item }} via yum
  shell: yum install -y {{ item }}
  with_items: parameters.tools
  when: yum_available
  become: true

- name: Install {{ item }} via pacman
  shell: pacman -S --noconfirm {{ item }}
  with_items: parameters.tools
  when: pacman_available
  become: true

- name: Install {{ item }} via Homebrew
  shell: brew install {{ item }}
  with_items: parameters.tools
  when: brew_available

- name: Verify bat is installed
  assert:
    command:
      cmd: command -v bat
      exit_code: 0

- name: Print installation complete message
  print: |
    Modern Unix tools installed! Try these commands:
      bat file.txt          # Pretty cat
      rg pattern           # Fast grep
      fd pattern           # Fast find
      exa -la              # Better ls
      z directory          # Smart cd (after first use)
      dust                 # Disk usage
      duf                  # Disk free
      btm                  # System monitor
